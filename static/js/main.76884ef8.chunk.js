(this.webpackJsonppomodoro_react=this.webpackJsonppomodoro_react||[]).push([[0],[,,,function(e,t,n){e.exports={Navigation:"Navigation_Navigation__39n2F",Navigation__Button:"Navigation_Navigation__Button__1zL85","Navigation__Button--active":"Navigation_Navigation__Button--active__be9JY","Navigation__Button--settings":"Navigation_Navigation__Button--settings__14FvA","Navigation__Button--block":"Navigation_Navigation__Button--block__13Ra6",Navigation__icon:"Navigation_Navigation__icon__1mht7"}},,,function(e,t,n){e.exports={Input:"Input_Input__1fo6G",Input__wrapper:"Input_Input__wrapper__3lXQa",Input__label:"Input_Input__label__3MdFB",Input__input:"Input_Input__input__2hYp3","Input__input--error":"Input_Input__input--error__1L9rF",Input__error:"Input_Input__error__3sNGS"}},function(e,t,n){e.exports={ButtonsWrapper:"Buttons_ButtonsWrapper__lDNb5",RestartButton:"Buttons_RestartButton__1IXBy","RestartButton--block":"Buttons_RestartButton--block__3HHbf",RestartButton__icon:"Buttons_RestartButton__icon__1j1xh",Button:"Buttons_Button__2kxCD"}},function(e,t,n){e.exports={Modal:"Modal_Modal__37xPW",Modal__header:"Modal_Modal__header__1sDdA",Modal__closeButton:"Modal_Modal__closeButton__2w3ai",Modal__X:"Modal_Modal__X__2u7Is",Modal__contentWrapper:"Modal_Modal__contentWrapper__2sJZ5"}},function(e,t,n){e.exports={SettingsForm:"SettingsModal_SettingsForm__2l_JB",SettingsForm__ButtonWrapper:"SettingsModal_SettingsForm__ButtonWrapper__Np945",SettingsModal__okButton:"SettingsModal_SettingsModal__okButton__1YFmG",SettingsModal__Form:"SettingsModal_SettingsModal__Form__1B2Hx",Button:"SettingsModal_Button__16KAO"}},,,,,,,,function(e,t,n){e.exports={Display:"Display_Display__1YRvJ",Display__value:"Display_Display__value__2Eges","Display--break":"Display_Display--break__3EQ-4"}},,function(e,t,n){e.exports={PomodoroBuilderWrapper:"pomodoroBuilderWrapper_PomodoroBuilderWrapper__9oQhd"}},function(e,t,n){e.exports={Backdrop:"Backdrop_Backdrop__1G_ea"}},,,,,function(e,t,n){},,,,,,function(e,t,n){"use strict";n.r(t);var a=n(0),i=n.n(a),o=n(10),r=n.n(o),s=(n(25),n(2)),l=n(4),u=n(12),c=Object(u.b)({name:"pomodoro",initialState:{timerSettings:{session:.1,shortBreak:.1,longBreak:.2,longBreakInterval:2},sessionTimeLeft:6,breakTimeLeft:6,sessionsToLongBreak:2},reducers:{setTimerSettings:function(e,t){e.timerSettings=t.payload.value},setSessionTimeLeft:function(e,t){e.sessionTimeLeft=60*t.payload.value},setBreakTimeLeft:function(e,t){e.breakTimeLeft=60*t.payload.value},setSessionsToLongBreak:function(e,t){e.sessionsToLongBreak=t.payload.value},decrementSessionTimeLeft:function(e){e.sessionTimeLeft-=1},decrementBreakTimeLeft:function(e){e.breakTimeLeft-=1},decrementBreakInterval:function(e){e.sessionsToLongBreak-=1}}}),_=c.actions,d=c.reducer,p=n(3),b=n.n(p),v=n(1),j=function(e){var t=e.breakIsActive,n=e.timerIsRunning,a=e.longBreakIsActive,i=e.turnOnBreakTabHandler,o=e.settingsOnHandler,r=function(e){n||i(e)};return Object(v.jsxs)("div",{className:b.a.Navigation,children:[Object(v.jsx)("button",{className:[b.a.Navigation__Button,t?null:b.a["Navigation__Button--active"],n?b.a["Navigation__Button--block"]:null].join(" "),onClick:function(){return r(!1)},children:"Session"}),Object(v.jsx)("button",{className:[b.a.Navigation__Button,t?b.a["Navigation__Button--active"]:null,n?b.a["Navigation__Button--block"]:null].join(" "),onClick:function(){return r(!0)},children:a?"Long Break":"Short Break"}),Object(v.jsx)("button",{className:[b.a.Navigation__Button,b.a["Navigation__Button--settings"],n?b.a["Navigation__Button--block"]:null].join(" "),onClick:function(){n||o()},children:Object(v.jsx)("span",{className:["material-icons",b.a.Navigation__icon].join(" "),children:"settings"})})]})},m=n(17),f=n.n(m),B=function(e){var t=e.breakIsActive,n=e.currentBreakTime,a=e.currentSessionTime;return Object(v.jsx)("div",{className:f.a.Display,children:Object(v.jsx)("p",{className:f.a.Display__value,children:(t?n:a)||"00:00"})})},g=n(5),k=n(18),O="REQUIRE",h=function(){return{type:O}},I=function(e){return{type:"MIN",val:e}},N=function(e){return{type:"MAX",val:e}},x=function(e,t){var n,a=!0,i=Object(k.a)(t);try{for(i.s();!(n=i.n()).done;){var o=n.value;o.type===O&&(a=a&&e.trim().length>0),"MIN"===o.type&&(a=a&&+e>=o.val),"MAX"===o.type&&(a=a&&+e<=o.val)}}catch(r){i.e(r)}finally{i.f()}return a},T=n(6),S=n.n(T),y=function(e,t){switch(t.type){case"CHANGE":return Object(g.a)(Object(g.a)({},e),{},{value:t.val,isValid:x(t.val,t.validators)});case"TOUCH":return Object(g.a)(Object(g.a)({},e),{},{isTouched:!0});default:return e}},L=function(e){var t=Object(a.useReducer)(y,{value:e.initialValue||"",isValid:e.initialValid||!1,isTouched:!1}),n=Object(s.a)(t,2),i=n[0],o=n[1],r=e.id,l=e.onInput,u=i.value,c=i.isValid;Object(a.useEffect)((function(){l(r,u,c)}),[r,u,c,l]);var _=function(t){o({type:"CHANGE",val:t.target.value,validators:e.validators})},d=function(){o({type:"TOUCH"})},p="textarea"===e.element?Object(v.jsx)("textarea",{className:S.a.Input__textarea,id:e.id,rows:e.rows||2,onChange:_,onBlur:d,value:i.value}):Object(v.jsx)("input",{className:"".concat(S.a.Input__input," ").concat(!i.isValid&&i.isTouched?S.a["Input__input--error"]:""),id:e.id,type:e.type,placeholder:e.placeholder,onChange:_,onBlur:d,value:i.value});return Object(v.jsx)("div",{className:S.a.Input,children:Object(v.jsxs)("div",{className:S.a.Input__wrapper,children:[Object(v.jsx)("label",{className:S.a.Input__label,htmlFor:e.id,children:e.label}),p,!i.isValid&&i.isTouched&&Object(v.jsx)("p",{className:S.a.Input__error,children:e.errorText})]})})},M=n(9),V=n.n(M),F=function(e){var t=e.submitHandler,n=e.formState,a=e.inputHandler,i=e.modalOFF;return Object(v.jsxs)("form",{onSubmit:t,className:V.a.SettingsForm__Form,children:[Object(v.jsx)(L,{id:"session",label:"Session:",type:"number",validators:[h(),I(.1),N(120)],errorText:"Please enter a valid session length (between 0.1 and 120)",onInput:a,initialValue:n.inputs.session.value,initialValid:n.inputs.session.isValid}),Object(v.jsx)(L,{id:"break",label:"Short Break:",type:"number",validators:[h(),I(.1),N(30)],errorText:"Please enter a valid short break length (between 1 and 15)",onInput:a,initialValue:n.inputs.break.value,initialValid:n.inputs.break.isValid}),Object(v.jsx)(L,{id:"longBreak",label:"Long break:",type:"number",validators:[h(),I(.1),N(120)],errorText:"Please enter a valid long break length (between 10 and 120)",onInput:a,initialValue:n.inputs.longBreak.value,initialValid:n.inputs.longBreak.isValid}),Object(v.jsx)(L,{id:"longBreakInterval",label:"Long break interval:",type:"number",validators:[h(),I(2),N(10)],errorText:"Please enter a valid long break interval (between 2 and 10)",onInput:a,initialValue:n.inputs.longBreakInterval.value,initialValid:n.inputs.longBreakInterval.isValid}),Object(v.jsxs)("div",{className:V.a.SettingsForm__ButtonWrapper,children:[Object(v.jsx)("button",{type:"button",className:V.a.Button,onClick:i,children:"CANCEL"}),Object(v.jsx)("button",{type:"submit",className:V.a.Button,disabled:!n.isValid,children:"OK"})]})]})},C=n(11),H=function(e,t){switch(t.type){case"INPUT_CHANGE":var n=!0;for(var a in e.inputs)n=a===t.inputId?n&&t.isValid:n&&e.inputs[a].isValid;return Object(g.a)(Object(g.a)({},e),{},{inputs:Object(g.a)(Object(g.a)({},e.inputs),{},Object(C.a)({},t.inputId,{value:t.value,isValid:t.isValid})),isValid:n});case"SET_DATA":return{inputs:t.inputs,isValid:t.formIsValid};default:return e}},A=function(e){var t=e.modalOFF,n=e.timerSettings,o=Object(l.b)(),r=function(e,t){var n=Object(a.useReducer)(H,{inputs:e,isValid:t}),i=Object(s.a)(n,2),o=i[0],r=i[1];return[o,Object(a.useCallback)((function(e,t,n){r({type:"INPUT_CHANGE",value:t,isValid:n,inputId:e})}),[]),Object(a.useCallback)((function(e,t){r({type:"SET_DATA",inputs:e,formIsValid:t})}),[])]}({session:{value:n.session||25,isValid:!0},break:{value:n.shortBreak||5,isValid:!0},longBreak:{value:n.longBreak||15,isValid:!0},longBreakInterval:{value:n.longBreakInterval||2,isValid:!0}},!1),u=Object(s.a)(r,2),c=u[0],d=u[1],p=function(e){var n=function(e){for(var t={},n=0,a=Object.entries(e);n<a.length;n++){var i=Object(s.a)(a[n],2),o=i[0],r=i[1];t[o]=+r}return t}(e);o(_.setTimerSettings({value:n})),t()};return Object(v.jsx)(i.a.Fragment,{children:Object(v.jsx)(F,{submitHandler:function(e){e.preventDefault(),p({session:c.inputs.session.value,shortBreak:c.inputs.break.value,longBreak:c.inputs.longBreak.value,longBreakInterval:c.inputs.longBreakInterval.value})},formState:c,inputHandler:d,modalOFF:t})})},R=n(19),D=n.n(R),w=function(e){return Object(v.jsx)("div",{className:D.a.PomodoroBuilderWrapper,children:e.children})},E=n(7),W=n.n(E),P=function(e){var t=e.timerIsRunning,n=e.resetButtonHandler,a=e.startButtonHandler;return Object(v.jsxs)("div",{className:W.a.ButtonsWrapper,children:[Object(v.jsx)("button",{className:[W.a.RestartButton,t?W.a["RestartButton--block"]:null].join(" "),onClick:function(){t||n()},children:Object(v.jsx)("span",{className:["material-icons",W.a.RestartButton__icon].join(" "),children:"restart_alt"})}),Object(v.jsx)("button",{className:W.a.Button,onClick:a,children:t?"Stop":"Start"})]})},G=n(8),X=n.n(G),J=function(e){var t=e.background,n=e.modalOpen,a=e.modalName,i=e.modalOFF,o=e.children;return Object(v.jsxs)("div",{className:X.a.Modal,style:{background:t,opacity:n?1:0,transform:n?"translate(-50%, -50%)":"translate(-50%, -200vh)"},children:[Object(v.jsxs)("div",{className:X.a.Modal__header,children:[Object(v.jsx)("p",{children:a}),Object(v.jsx)("div",{className:X.a.Modal__closeButton,onClick:i,children:Object(v.jsx)("div",{className:X.a.Modal__X})})]}),Object(v.jsx)("div",{className:X.a.Modal__contentWrapper,children:o})]})},U=n(20),Q=n.n(U),Y=function(e){var t=e.show,n=e.clicked;return t?Object(v.jsx)("div",{className:Q.a.Backdrop,onClick:n}):null},K=function(){var e=Object(l.b)(),t=Object(a.useRef)(),n=Object(a.useState)(null),i=Object(s.a)(n,2),o=i[0],r=i[1],u=Object(a.useState)(!1),c=Object(s.a)(u,2),d=c[0],p=c[1],b=Object(a.useState)(!1),m=Object(s.a)(b,2),f=m[0],g=m[1],k=Object(a.useState)(!1),O=Object(s.a)(k,2),h=O[0],I=O[1],N=Object(a.useState)(!1),x=Object(s.a)(N,2),T=x[0],S=x[1],y=Object(l.c)((function(e){return e.pomodoro.timerSettings})),L=Object(l.c)((function(e){return e.pomodoro.breakTimeLeft})),M=Object(l.c)((function(e){return e.pomodoro.sessionTimeLeft})),V=Object(l.c)((function(e){return e.pomodoro.sessionsToLongBreak}));Object(a.useEffect)((function(){var t=y.session,n=y.shortBreak,a=y.longBreakInterval;e(_.setSessionTimeLeft({value:t})),e(_.setBreakTimeLeft({value:n})),e(_.setSessionsToLongBreak({value:a})),p(!1),S(!1)}),[y,e]);var F=function(){return g(!1)};function C(){t.current.play()}function H(e){var t=function(e){return e<10?"0".concat(e):"".concat(e)},n=Math.floor(e/60),a=e%60;return"".concat(t(n),":").concat(t(a))}return Object(a.useEffect)((function(){"00:00"===H(M)&&(C(),e(_.decrementBreakInterval()),I(!1),clearInterval(o),p(!0),e(_.setSessionTimeLeft({value:y.session})))}),[M,e]),Object(a.useEffect)((function(){"00:00"===H(L)&&(C(),I(!1),clearInterval(o),V>1?(S(!1),e(_.setBreakTimeLeft({value:y.shortBreak}))):1===V?(S(!0),e(_.setBreakTimeLeft({value:y.longBreak}))):V<=0&&(S(!1),e(_.setSessionsToLongBreak({value:y.longBreakInterval})),e(_.setBreakTimeLeft({value:y.shortBreak}))),p(!1))}),[L,e]),Object(a.useEffect)((function(){return function(){clearInterval(o)}}),[o]),Object(v.jsxs)(w,{children:[Object(v.jsx)(Y,{show:f,clicked:F}),Object(v.jsx)(J,{modalOpen:f,modalOFF:F,modalName:"Settings",children:Object(v.jsx)(A,{modalOFF:F,timerSettings:y})}),Object(v.jsx)(j,{longBreakIsActive:T,timerIsRunning:h,breakIsActive:d,turnOnBreakTabHandler:function(e){return p(e)},settingsOnHandler:function(){return g(!0)}}),Object(v.jsx)(B,{breakIsActive:d,currentBreakTime:H(L),currentSessionTime:H(M)}),Object(v.jsx)(P,{timerIsRunning:h,resetButtonHandler:function(){e(d?1===V?_.setBreakTimeLeft({value:y.longBreak}):_.setBreakTimeLeft({value:y.shortBreak}):_.setSessionTimeLeft({value:y.session}))},startButtonHandler:function(){h?(clearInterval(o),I(!1)):(!function(){var t=setInterval((function(){e(d?_.decrementBreakTimeLeft():_.decrementSessionTimeLeft())}),1e3);r(t)}(),I(!0))}}),Object(v.jsx)("audio",{ref:t,children:Object(v.jsx)("source",{src:"/sounds/mixkit-unlock-game-notification-253.wav"})})]})};var z=function(){return Object(v.jsx)(K,{})},Z=function(e){e&&e instanceof Function&&n.e(3).then(n.bind(null,32)).then((function(t){var n=t.getCLS,a=t.getFID,i=t.getFCP,o=t.getLCP,r=t.getTTFB;n(e),a(e),i(e),o(e),r(e)}))},q=Object(u.a)({reducer:{pomodoro:d}});r.a.render(Object(v.jsx)(i.a.StrictMode,{children:Object(v.jsx)(l.a,{store:q,children:Object(v.jsx)(z,{})})}),document.getElementById("root")),Z()}],[[31,1,2]]]);
//# sourceMappingURL=main.76884ef8.chunk.js.map